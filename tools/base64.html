<!DOCTYPE html>
<html lang="en">
<head>
	<title>Base64 encode image</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript">
		//<![CDATA[
		function main() {
			var dropZone = document.getElementById('dropZone');
			var result = document.getElementById('result');

			dropZone.addEventListener('dragover', function (evt) {
				evt.stopPropagation();
				evt.preventDefault();
			}, false);

			dropZone.addEventListener('drop', function (evt) {
				evt.stopPropagation();
				evt.preventDefault();

				if (evt.dataTransfer.files.length > 0) {
					try {
						var reader = new FileReader();

						reader.onload = function (e) {
							result.value = e.target.result;
						};

						reader.readAsDataURL(evt.dataTransfer.files[0]);
					}
					catch (e) {
						alert('error:' + e);
					}
				}
			}, false);
		}
		//]]>
	</script>
</head>

<body onload="main();">
	<span
		style="position:relative;display:inline-block;left:50%;transform:translate(-50%,0);width:50%;min-width:500px;">
		<div style="display:flex;align-items:center;opacity:0.7;">
			<img src="logo.svg" style="width:28px;" />
			<span style="font-family:Helvetica;font-weight:700;font-size:20px;margin-left:4px;">draw.io</span>
			<h2 style="text-align:center;width:100%;margin:10px;">Base64 encode image</h2>
		</div>
		<hr>
		<br>
		<div id="dropZone" style="width:100%;height:200px;border:1px dashed gray;">Drag image here</div>
		<br />
		Result:
		<br />
		<textarea style="width:100%;height:200px;border:1px dashed gray;" id="result" placeholder="No image yet"
			style="outline:none;"></textarea>
	</span>
</body>

</html>